---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <main>
    <section class="hero-video">
      <video
        id="hero-video"
        src="/hero_3mb.mp4"
        autoplay
        muted
        loop
        playsinline
        preload="auto"
      >
      </video>
    </section>
    <h1>Velkommen til <span>Gaardblomsten</span></h1>

    <!-- herunder er billeder med links videre -->
    <section>
      <img
        class="baggrundsblomst1"
        src="webp/blomst1.webp"
        alt="billede af baggrundsblomst"
      />

      <img
        class="baggrundsblomst2"
        src="webp/blomst1.webp"
        alt="billede af baggrundsblomst"
      />
      <div class="grid_1-1-1">
        <!-- <div> -->
        <a href="/blomster">
          <img src="/webp/blomster_index.webp" alt="billede af blomster" />
          <h2>Blomster</h2>
        </a>
        <!-- </div>
        <div> -->
        <a href="/abonnement">
          <img
            src="/webp/abonnement_index.webp"
            alt="billede af maria med blosmter buket foran ansigt"
          />
          <h2>Abonnement</h2>
        </a>
        <!-- </div>
        <div> -->
        <a href="/workshop">
          <img
            src="/webp/workshop.webp"
            alt="billede af blomster der ligger på et bord"
          />
          <h2>Workshops</h2>
        </a>
        <!-- </div> -->
      </div>
    </section>

    <!-- herunder kommer 'Om Gaardblomsten' -->
    <div class="grid_1-1">
      <img
        class="baggrundsblomst3"
        src="webp/blomst1.webp"
        alt="billede af baggrundsblomst"
      />
      <img
        src="/webp/gaardblomsten_om.webp"
        alt="billede af Maria i blomstermarken"
        class="maria"
      />
      <div class="down_section">
        <h3>Om <span>Gaardblomsten</span></h3>
        <p>
          Bag Gaardblomsten finder du Maria og Henning. Vi bor på gården
          Højstrup sammen med vores tre børn og hund. På gården ligger vores
          blomstermark og vejbod.
        </p>
        <p>
          Vi er et stærkt team, og sammen får vi det hele til at rulle på
          gården. Vi er 4. generation på gården efter Marias familie med dybe
          rødder i landbruget. Der har i mange år været dyrket landbrug fra
          gården og nu har vi også specialiseret os i dyrkning af blomster og
          græskar.
        </p>
      </div>
    </div>
  </main>

  <!-- nedstående skrift gør at videoen ikke afspiller når man ikke kan se den, hvilket gør det mere miljøvenligt  -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // venter på siden er loadet og klar
      const video = document.getElementById("hero-video");
      // finder video og gemmer den  i en variabel, så man nemt kan pille ved den senere

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              video.play();
            } else {
              video.pause();
            }
            // når videoen er scrollet ud af syne så stopper den automatisk med at afspille, men hvis den er synlig, så afspilles den
          });
        },
        { threshold: 0.1 },
      );
      // dette gør at der bliver hold øje med om videoen er synlig for den besøgende på siden

      observer.observe(video);
      // dette starter 'observeren' og siger 'hold øje med videoen'
    });
  </script>

  <style>
    /* v-------------- HERO VIDEO STYLING --------------v */
    .hero-video {
      width: 100%;
      /* max-width: 1280px; */
      max-width: 1600px;
      aspect-ratio: 1280 / 438;
      margin: 0 auto;
      overflow: hidden;
    }

    .hero-video video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* v--------------  STYLING AF 3 BILLEDE-LINKS --------------v */
    section {
      position: relative;
      background-color: #f2efe8;
      overflow: hidden;
    }

    .baggrundsblomst1 {
      position: absolute;
      z-index: 0; /* ikke -1, det kan være for langt bagved */
      width: 200px; /* justér størrelsen så den er synlig */
      left: 40%;
      bottom: 60%;
    }

    .baggrundsblomst2 {
      position: absolute;
      z-index: 0; /* ikke -1, det kan være for langt bagved */
      width: 200px; /* justér størrelsen så den er synlig */
      left: -1%;
      bottom: 25%;
    }

    .grid_1-1 {
      position: relative;
      background-color: #f2efe8;
      overflow: hidden;
    }

    .baggrundsblomst3 {
      position: absolute;
      z-index: 0; /* ikke -1, det kan være for langt bagved */
      width: 150px; /* justér størrelsen så den er synlig */
      left: 30%;
      bottom: 5%;
    }

    @media (min-width: 800px) {
      .baggrundsblomst1 {
        left: 86%;
        bottom: 25%;
      }

      .baggrundsblomst2 {
        left: 0%;
        bottom: 45%;
      }
    }

    h1 {
      margin: 50px 0 50px 0;
    }

    h2 {
      padding-top: 20px;
    }

    h3,
    p {
      margin-top: 20px;
    }

    h3 {
      padding-bottom: var(--global-padding-bottom-h1);
    }

    section {
      margin: var(--margin-beige-mobile);
    }

    .grid_1-1-1 {
      display: grid;
      grid-auto-rows: 450px;
      gap: 10px;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      margin: 0 auto;
      justify-items: center;
      /* overstående linje 'grid-template-colums' er så det tilpasser sig skærmen og ikke ser mystisk ud på tablet view */
    }

    .grid_1-1-1 img {
      height: 350px;
      width: 300px;
    }

    .grid_1-1-1 > div {
      text-align: center;
    }
    /* sætter tekst er i midten */
    a {
      text-align: center;
      text-decoration: none;
      height: 400px;
      width: 300px;
    }

    img {
      justify-content: center;
    }

    @media (min-width: 800px) {
      .grid_1-1-1 {
        gap: 10px;
        margin-left: 80px;
        margin-right: 80px;
      }
    }

    /* v--------------  STYLING AF 'om Gaardblomsten'--------------v */
    .grid_1-1 {
      display: grid;
      /* grid-template-rows: 1fr 1fr; */
      gap: 20px;
      background-color: var(--lightgreen);
    }
    .grid_1-1 > .maria {
      max-width: none;
      object-fit: cover;
      display: block;
    }

    .down_section {
      padding: var(--padding-left_mobile);
    }

    /* overstående '.grid_1-1 > .maria' styling gør at billedet går helt ud til kanterne på mobilview  */

    /* p,
    h3,
    h1 {
      padding-left: 20px;
      padding-right: 20px;
    } */

    @media (min-width: 820px) {
      section {
        margin: 0 40px 0 40px;
      }
      main {
        max-width: var(--global-margin-max-width);
      }
      .grid_1-1 {
        display: flex;
        flex-direction: row;
        gap: 20px;
        background-color: var(--lightgreen);
      }

      .grid_1-1 > .maria {
        /* width: 50vw; fylder halvdelen af skærmen */
        height: auto;
        object-fit: cover;
        margin-left: 0;
        width: 100%;
        max-width: none;
        display: block;
      }

      .grid_1-1 > div {
        max-width: 50%; /* halvdelen af din main */
      }

      .grid_1-1 {
        flex-direction: row;
      }

      .grid_1-1 > .maria {
        order: 2;
      }
      /* dette gør billedet bliver flyttet til højre side på desktop */

      .grid_1-1 > div {
        order: 1;
      }
      /* dette gør teksten bliver flyttet til venstre side på desktop */
      .down_section {
        padding: var(--padding-desktop);
      }

      /* p,
      h3 {
        padding-left: 80px;
        padding-right: 20px;
      } */
    }

    h1,
    h2,
    h3,
    p,
    a {
      color: var(--darkgreen);
    }

    /* v-------------- STYLING AF FONTS --------------v */
    h1 {
      text-align: center;
    }
    span {
      font-family: "Oooh Baby", cursive;
      font-weight: lighter;
    }
    h3 {
      font-size: 35px;
    }

    /* p {
      padding-bottom: 20px;
    } */

    /* v-------------- HOVER EFFEKT PÅ LINKS --------------v */
    a {
      display: block;
      overflow: hidden; /* skjul det forstørrede billede */
      z-index: 1;
    }

    a img {
      transition: transform 0.3s ease;
    }

    a:hover img {
      transform: scale(1.05); /* zoomer 5% ind */
    }

    /* _sleet */
    body {
      background-color: var(--beige);
    }
  </style>
</Layout>
